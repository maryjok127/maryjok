{
  "version": 3,
  "sources": ["../../../../app/routes/[robots.txt].jsx"],
  "sourcesContent": ["import {useRouteError, isRouteErrorResponse} from '@remix-run/react';\nimport {parseGid} from '@shopify/hydrogen';\n\nexport async function loader({request, context}) {\n  const url = new URL(request.url);\n\n  const {shop} = await context.storefront.query(ROBOTS_QUERY);\n\n  const shopId = parseGid(shop.id).id;\n  const body = robotsTxtData({url: url.origin, shopId});\n\n  return new Response(body, {\n    status: 200,\n    headers: {\n      'Content-Type': 'text/plain',\n\n      'Cache-Control': `max-age=${60 * 60 * 24}`,\n    },\n  });\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <div>\n        <h1>Oops</h1>\n        <p>Status: {error.status}</p>\n        <p>{error.data.message}</p>\n      </div>\n    );\n  }\n\n  let errorMessage = 'Unknown error';\n  if (error instanceof Error) {\n    errorMessage = error.message;\n  }\n\n  return (\n    <div>\n      <h1>Uh oh ...</h1>\n      <p>Something went wrong.</p>\n      <pre>{errorMessage}</pre>\n    </div>\n  );\n}\n\nfunction robotsTxtData({url, shopId}) {\n  const sitemapUrl = url ? `${url}/sitemap.xml` : undefined;\n\n  return `\nUser-agent: *\n${generalDisallowRules({sitemapUrl, shopId})}\n\n# Google adsbot ignores robots.txt unless specifically named!\nUser-agent: adsbot-google\nDisallow: /checkouts/\nDisallow: /checkout\nDisallow: /carts\nDisallow: /orders\n${shopId ? `Disallow: /${shopId}/checkouts` : ''}\n${shopId ? `Disallow: /${shopId}/orders` : ''}\nDisallow: /*?*oseid=*\nDisallow: /*preview_theme_id*\nDisallow: /*preview_script_id*\n\nUser-agent: Nutch\nDisallow: /\n\nUser-agent: AhrefsBot\nCrawl-delay: 10\n${generalDisallowRules({sitemapUrl, shopId})}\n\nUser-agent: AhrefsSiteAudit\nCrawl-delay: 10\n${generalDisallowRules({sitemapUrl, shopId})}\n\nUser-agent: MJ12bot\nCrawl-Delay: 10\n\nUser-agent: Pinterest\nCrawl-delay: 1\n`.trim();\n}\n\n/**\n * This function generates disallow rules that generally follow what Shopify's\n * Online Store has as defaults for their robots.txt\n */\nfunction generalDisallowRules({shopId, sitemapUrl}) {\n  return `Disallow: /admin\nDisallow: /cart\nDisallow: /orders\nDisallow: /checkouts/\nDisallow: /checkout\n${shopId ? `Disallow: /${shopId}/checkouts` : ''}\n${shopId ? `Disallow: /${shopId}/orders` : ''}\nDisallow: /carts\nDisallow: /account\nDisallow: /collections/*sort_by*\nDisallow: /*/collections/*sort_by*\nDisallow: /collections/*+*\nDisallow: /collections/*%2B*\nDisallow: /collections/*%2b*\nDisallow: /*/collections/*+*\nDisallow: /*/collections/*%2B*\nDisallow: /*/collections/*%2b*\nDisallow: */collections/*filter*&*filter*\nDisallow: /blogs/*+*\nDisallow: /blogs/*%2B*\nDisallow: /blogs/*%2b*\nDisallow: /*/blogs/*+*\nDisallow: /*/blogs/*%2B*\nDisallow: /*/blogs/*%2b*\nDisallow: /*?*oseid=*\nDisallow: /*preview_theme_id*\nDisallow: /*preview_script_id*\nDisallow: /policies/\nDisallow: /*/*?*ls=*&ls=*\nDisallow: /*/*?*ls%3D*%3Fls%3D*\nDisallow: /*/*?*ls%3d*%3fls%3d*\nDisallow: /search\nAllow: /search/\nDisallow: /search/?*\nDisallow: /apple-app-site-association\nDisallow: /.well-known/shopify/monorail\n${sitemapUrl ? `Sitemap: ${sitemapUrl}` : ''}`;\n}\n\nconst ROBOTS_QUERY = `#graphql\n  query StoreRobots($country: CountryCode, $language: LanguageCode)\n   @inContext(country: $country, language: $language) {\n    shop {\n      id\n    }\n  }\n`;\n"],
  "mappings": ";;;;;;;;;;;AA2BQ;AAND,SAAS,gBAAgB;AAC9B,QAAM,QAAQ,cAAc;AAE5B,MAAI,qBAAqB,KAAK,GAAG;AAC/B,WACE,mDAAC,SACC;AAAA,yDAAC,QAAG,oBAAJ;AAAA;AAAA;AAAA;AAAA,aAAQ;AAAA,MACR,mDAAC,OAAE;AAAA;AAAA,QAAS,MAAM;AAAA,WAAlB;AAAA;AAAA;AAAA;AAAA,aAAyB;AAAA,MACzB,mDAAC,OAAG,gBAAM,KAAK,WAAf;AAAA;AAAA;AAAA;AAAA,aAAuB;AAAA,SAHzB;AAAA;AAAA;AAAA;AAAA,WAIA;AAAA,EAEJ;AAEA,MAAI,eAAe;AACnB,MAAI,iBAAiB,OAAO;AAC1B,mBAAe,MAAM;AAAA,EACvB;AAEA,SACE,mDAAC,SACC;AAAA,uDAAC,QAAG,yBAAJ;AAAA;AAAA;AAAA;AAAA,WAAa;AAAA,IACb,mDAAC,OAAE,qCAAH;AAAA;AAAA;AAAA;AAAA,WAAwB;AAAA,IACxB,mDAAC,SAAK,0BAAN;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAA,OAHrB;AAAA;AAAA;AAAA;AAAA,SAIA;AAEJ;",
  "names": []
}
