{
  "version": 3,
  "sources": ["../../../../app/routes/($locale).collections._index.jsx"],
  "sourcesContent": ["import {useLoaderData, Link} from '@remix-run/react';\nimport {json} from '@shopify/remix-oxygen';\nimport {Pagination, getPaginationVariables, Image} from '@shopify/hydrogen';\n\nexport async function loader({context, request}) {\n  const paginationVariables = getPaginationVariables(request, {\n    pageBy: 100,\n  });\n\n  const {collections} = await context.storefront.query(COLLECTIONS_QUERY, {\n    variables: paginationVariables,\n  });\n\n  return json({collections});\n}\n\nexport default function Collections() {\n  const {collections} = useLoaderData();\n\n  return (\n    <div className=\"collections\">\n      <h1 className='mst-color'>Collections</h1>\n      <Pagination connection={collections}>\n        {({nodes, isLoading, PreviousLink, NextLink}) => (\n          <div>\n            <PreviousLink>\n              {isLoading ? 'Loading...' : <div className='flex justify-center mt-8'>\u2191 Load previous</div>}\n            </PreviousLink>\n            <CollectionsGrid collections={nodes} />\n            <NextLink>\n              {isLoading ? 'Loading...' : <div className='flex justify-center mt-8'>Load more \u2193</div>}\n            </NextLink>\n          </div>\n        )}\n      </Pagination>\n    </div>\n  );\n}\n\nfunction CollectionsGrid({collections}) {\n  return (\n    <div className=\"grid grid-cols-4 gap-4 px-5\">\n      {collections.map((collection, index) => (  \n          <CollectionItem\n            key={collection.id}\n            collection={collection}\n            index={index}\n          />\n      ))}\n    </div>\n  );\n}\n\nfunction CollectionItem({collection, index}) {\n  return (\n    <Link\n      className=\"collection-item mst-card-md hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\"\n      key={collection.id}\n      to={`/collections/${collection.handle}`}\n      prefetch=\"intent\"\n    >\n      {collection.image ? \n        <Image\n          alt={collection.image.altText || collection.title}\n          aspectRatio=\"1/1\"\n          data={collection.image ? collection.image : \"\"}\n          loading={index < 3 ? 'eager' : undefined}\n        />\n      :\n      <img src=\"https://cdn.shopify.com/s/files/1/0809/4253/0882/files/No-image-found.jpg?v=1708942129\" /> \n      }\n      <h5>{collection.title}</h5>\n    </Link>\n  );\n}\n\nconst COLLECTIONS_QUERY = `#graphql\n  fragment Collection on Collection {\n    id\n    title\n    handle\n    image {\n      id\n      url\n      altText\n      width\n      height\n    }\n  }\n  query StoreCollections(\n    $country: CountryCode\n    $endCursor: String\n    $first: Int\n    $language: LanguageCode\n    $last: Int\n    $startCursor: String\n  ) @inContext(country: $country, language: $language) {\n    collections(\n      first: $first,\n      last: $last,\n      before: $startCursor,\n      after: $endCursor\n    ) {\n      nodes {\n        ...Collection\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n`;\n"],
  "mappings": ";;;;;;;;;;;;;;AAqBM;AALS,SAAR,cAA+B;AACpC,QAAM,EAAC,YAAW,IAAI,cAAc;AAEpC,SACE,mDAAC,SAAI,WAAU,eACb;AAAA,uDAAC,QAAG,WAAU,aAAY,2BAA1B;AAAA;AAAA;AAAA;AAAA,WAAqC;AAAA,IACrC,mDAAC,MAAW,YAAY,aACrB,WAAC,EAAC,OAAO,WAAW,cAAc,SAAQ,MACzC,mDAAC,SACC;AAAA,yDAAC,gBACE,sBAAY,eAAe,mDAAC,SAAI,WAAU,4BAA2B,oCAA1C;AAAA;AAAA;AAAA;AAAA,aAAyD,KADvF;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MACA,mDAAC,mBAAgB,aAAa,SAA9B;AAAA;AAAA;AAAA;AAAA,aAAqC;AAAA,MACrC,mDAAC,YACE,sBAAY,eAAe,mDAAC,SAAI,WAAU,4BAA2B,gCAA1C;AAAA;AAAA;AAAA;AAAA,aAAqD,KADnF;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,SAPF;AAAA;AAAA;AAAA;AAAA,WAQA,KAVJ;AAAA;AAAA;AAAA;AAAA,WAYA;AAAA,OAdF;AAAA;AAAA;AAAA;AAAA,SAeA;AAEJ;AAEA,SAAS,gBAAgB,EAAC,YAAW,GAAG;AACtC,SACE,mDAAC,SAAI,WAAU,+BACZ,sBAAY,IAAI,CAAC,YAAY,UAC1B;AAAA,IAAC;AAAA;AAAA,MAEC;AAAA,MACA;AAAA;AAAA,IAFK,WAAW;AAAA,IADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAIA,CACH,KAPH;AAAA;AAAA;AAAA;AAAA,SAQA;AAEJ;AAEA,SAAS,eAAe,EAAC,YAAY,MAAK,GAAG;AAC3C,SACE;AAAA,IAAC;AAAA;AAAA,MACC,WAAU;AAAA,MAEV,IAAI,gBAAgB,WAAW;AAAA,MAC/B,UAAS;AAAA,MAER;AAAA,mBAAW,QACV;AAAA,UAAC;AAAA;AAAA,YACC,KAAK,WAAW,MAAM,WAAW,WAAW;AAAA,YAC5C,aAAY;AAAA,YACZ,MAAM,WAAW,QAAQ,WAAW,QAAQ;AAAA,YAC5C,SAAS,QAAQ,IAAI,UAAU;AAAA;AAAA,UAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,IAEF,mDAAC,SAAI,KAAI,4FAAT;AAAA;AAAA;AAAA;AAAA,eAAkG;AAAA,QAElG,mDAAC,QAAI,qBAAW,SAAhB;AAAA;AAAA;AAAA;AAAA,eAAsB;AAAA;AAAA;AAAA,IAdjB,WAAW;AAAA,IAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiBA;AAEJ;",
  "names": []
}
